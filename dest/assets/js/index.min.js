!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){t.__esModule=!0,t.Global=void 0;var i=n(3),a=n(7),o=a.Param.getParam,r=(o("silent")||gconfig.silent,o("lid")||gconfig.lid||""),d=(gconfig.ad_param,gconfig.ad_name),c=(gconfig.flash_path,gconfig.width),s=(gconfig.height,gconfig.title,gconfig.top,gconfig.left,gconfig.platform_domain,gconfig.platform_id),l=gconfig.union_id,p=gconfig.union_type,g=gconfig.link_id,u=""!=o("37ref")?o("37ref"):gconfig.referer,f=gconfig.game_id,m=gconfig.game_server_id,h=(gconfig.time_temp,gconfig.platform_deploy),_=gconfig.key,w=gconfig.ad_id,b=gconfig.banner_id,v=o("uid")||o("u")||"",y=o("cs_ext")||o("CS_EXT")||"";v=v.replace(/\./g,"_");var k="";k=1==p||2==p?"p":"s";var C=1==p||2==p?0:g,x=o("t")||"",I=o("v")||"",A=o("c")||"",L=o("cg")||"",T=o("b")||"",G=o("n")||0,$="",P="";x>0&&($="t="+x+"!cg="+L+"!c="+A+"!v="+I+"!b="+T+"!p="+s+"!un="+l+"!l="+g+"!uid="+v+"!a="+w+"!pd="+h+"!g="+f+"!gs="+m+"!n="+G),""!=T&&(b=T),P="&t="+x+"&v="+I+"&c="+A+"&cg="+L+"&b="+T+"&n="+G;var M=encodeURIComponent((1==p||2==p?k+"|":"")+s+"|"+l+"|"+g+"|"+v+"|"+_+"|"+$+"|os="+i.Checker.system+"!bs="+i.Checker.browser);k="/"+k+"/"+s+"/"+l+"/"+C+"/",d.indexOf("[FL]"),(d.indexOf("[QP]")>0||d.indexOf("[FL]")>0)&&(c="100%"),t.Global={init:function(){var e=this;e.addGlobalFn("uid",(o("uid")||o("u")||"").replace(/\./g,"_")),e.addGlobalFn("key",gconfig.key),e.addGlobalFn("platformDeploy",gconfig.platform_deploy),e.addGlobalFn("platformDomain",gconfig.platform_domain),e.addGlobalFn("http","https"),e.addGlobalFn("adParam",gconfig.ad_param),e.addGlobalFn("bid",b),e.addGlobalFn("lid",r),e.addGlobalFn("ab_type",parseInt(o("ab_type"),10)||parseInt(o("ad_type"),10)||""),e.addGlobalFn("ext",M),e.addGlobalFn("referer",u),e.addGlobalFn("uid",v),e.addGlobalFn("cs_ext",y),e.addGlobalFn("getParam",o),e.addGlobalFn("adsys_param",P),e.addGlobalFn("baseUrl",k),e.addGlobalFn("_width",c)},addGlobalFn:function(e,t){window[e]=t},getGlobal:function(e){return window[e]||""}}},function(e,t,n){t.__esModule=!0,t.Callback=t.CallBack=void 0;var i=n(5),a=0,o={},r=t.CallBack={getTid:function(){return++a},handleCallBack:function(e,t){var n=o[e],a=document.getElementById("jsonp_invoker_"+e);(0,i.Try)(function(){n&&"function"==typeof n&&n(t),a&&a.parentNode.removeChild(a)})},addCallBack:function(e,t){o[e]=t},doReq:function(e,t){var n=this,a=n.getTid(),o=document.createElement("script");(0,i.Try)(function(){o.setAttribute("id","jsonp_invoker_"+a),o.setAttribute("type","text/javascript"),o.setAttribute("src",e.indexOf("?")>0?e+"&tid="+a+"&"+Math.random():e+"?tid="+a+"&"+Math.random()),t&&n.addCallBack(a,t);var i=document.getElementsByTagName("head");i[0]?i[0].appendChild(o):document.body.appendChild(o)})},doScript:function(e,t){var n=document.createElement("script");(0,i.Try)(function(){n.setAttribute("async","async"),n.setAttribute("type","text/javascript"),n.setAttribute("src",e.indexOf("?")>0?e+"&tid="+a+"&"+Math.random():e+"?tid="+a+"&"+Math.random()),document.body.appendChild(n),n.readyState?n.onreadystatechange=function(){"complete"!=n.readyState&&"loaded"!=n.readyState||(n.onreadystatechange=null,t&&t())}:n.onload=function(){t&&t()}})},doImg:function(e){(new Image).src=e.indexOf("?")>0?e+"&"+Math.random():e+"?"+Math.random()}};t.Callback=r},function(e,t,n){t.__esModule=!0,t.LifeCycle=void 0;var i=n(9),a={};t.LifeCycle={add:function(e,t){a[e]||(a[e]=[]),a[e].push(t)},trigger:function(e){if(this[e]&&this[e](),i.Static.doStatic(e),a[e])for(var t=0,n=a[e].length;t<n;t++)a[e][t]()}}},function(e,t){t.__esModule=!0,t.Checker={supportFlash:function(){var e=0;try{if(document.all){var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");t&&(e=1)}else if(navigator.plugins&&navigator.plugins.length>0){var t=navigator.plugins["Shockwave Flash"];t&&(e=1)}return e}catch(t){return e}}(),supportCanvas:function(){return!!document.createElement("canvas").getContext}(),browser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("lbbrowser")?"liebao":-1!=e.indexOf("2345explorer")?"2345explorer":-1!=e.indexOf("2345chrome")?"2345chrome":-1!=e.indexOf("qqbrowser")?"qq":-1!=e.indexOf("bidubrowser")?"baidu":-1!=e.indexOf("metasr")?"sogou":-1!=e.indexOf("ubrowser")?"uc":-1!=e.indexOf("opera")?"opera":-1!=e.indexOf("maxthon")?"maxthon":-1!=e.indexOf("360ee")?"360chrome":-1!=e.indexOf("360se")?"360browser":-1!=e.indexOf("edge")?"edge":-1!=e.indexOf("firefox")?"firefox":-1!=e.indexOf("chrome")?"chrome":-1!=e.indexOf("safari")?"safari":-1!=e.indexOf("msie 6.0")?"ie6":-1!=e.indexOf("msie 7.0")?"ie7":-1!=e.indexOf("msie 8.0")?"ie8":-1!=e.indexOf("msie 9.0")?"ie9":-1!=e.indexOf("msie 10.0")?"ie10":-1!=e.indexOf("rv:11")?"ie11":"otherbrowse"}(),system:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows nt 5.1")||-1!=e.indexOf("windows nt 5.2")?"winxp":-1!=e.indexOf("windows nt 6.0")?"vista":-1!=e.indexOf("windows nt 6.1")?"win7":-1!=e.indexOf("windows nt 6.2")?"win8":-1!=e.indexOf("windows nt 6.3")?"win8.1":-1!=e.indexOf("windows nt 6.4")||-1!=e.indexOf("windows nt 10.0")?"win10":-1!=e.indexOf("ipad")?"ipad":-1!=e.indexOf("iphone")?"iphone":-1!=e.indexOf("mac os")?"macos":-1!=e.indexOf("android")?"android":-1!=e.indexOf("linux")?"linux":"otheros"}(),isMobile:function(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),n="iphone os"==e.match(/iphone os/i),i="midp"==e.match(/midp/i),a="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),o="ucweb"==e.match(/ucweb/i),r="android"==e.match(/android/i),d="windows ce"==e.match(/windows ce/i),c="windows mobile"==e.match(/windows mobile/i);return!!(t||n||i||a||o||r||d||c)}()}},function(module,exports,__webpack_require__){exports.__esModule=!0,exports.App=void 0;var _index=__webpack_require__(2),_callback=__webpack_require__(1),_adLoadder=__webpack_require__(6),_index2=__webpack_require__(0),_md=__webpack_require__(13),_query=__webpack_require__(7),_free=__webpack_require__(14),_validator=__webpack_require__(15),_identifying=__webpack_require__(16),_backpop=__webpack_require__(17),_gamebox=__webpack_require__(18),_hijack=__webpack_require__(19),_icp=__webpack_require__(20),_iframe=__webpack_require__(21),_title=__webpack_require__(22),_phone=__webpack_require__(23),_checker=__webpack_require__(3),_try=__webpack_require__(5),identifyingFlag=!1,App=exports.App={data:{account:"",pwd:"",verifyCode:"",temrefer:"",tempara:"",returnGameId:"",returnServerId:""},win:null,init:function(){var e=this;(0,_try.Try)(function(){_index.LifeCycle.trigger("load"),_index.LifeCycle.add("adLoadEnd",function(){window.autoOpenDiv&&window.setTimeout(function(){if(autoOpenDiv.autoOpen){autoOpenDiv.autoOpenFlag=!0;try{_adLoadder.AdLoader.openReg(),App.openRegist()}catch(e){}}},1e4),_backpop.BackPop.init(),_gamebox.GameBox.init(),_hijack.Hijack.init()}),_index.LifeCycle.add("bodyLoaded",function(){window.free_twice&&free_twice.flag&&free_twice.enter_game&&e.freeLogin()}),_index.LifeCycle.add("phoneReg",function(){_phone.PhoneWin.init()}),_adLoadder.AdLoader.init(),_title.Title.init(),_validator.Validator.init(),_free.FreeLogin.init(),_identifying.Identifying.init(),_iframe.Iframe.init(),_icp.Icp.init(),e.initParam()})},initParam:function(){var e=this,t=encodeURIComponent(referer),n=encodeURIComponent(t),i=encodeURIComponent(uid),a="";_checker.Checker.supportFlash||(t=flash_param.referer||"mbhztszy","referer"==flash_param.referer_param&&(i=encodeURIComponent(n))),window.is_vali_flag?void 0!==gconfig.is_hg_api?1==gconfig.is_hg_api&&(a="p_register_hd_v2"):a="p_register_v2":a="p_register";var o=http+"://"+platformDomain+"/api/"+a+".php?action=login&ab_param="+encodeURIComponent(gconfig.ad_param)+"&referer="+t+"&referer_param="+i+"&bid="+encodeURIComponent(bid)+"&lid="+encodeURIComponent(lid)+"&game_id="+gconfig.game_id+"&game_server_id="+gconfig.game_server_id+"&wd="+getwd()+"&ab_type="+ab_type+"&ext="+ext+"&tj_from=220&tj_way=1&s=1";e.data.temrefer=t,e.data.tempara=i,e.data.registerUrl=o,e.data.registerApi=a},openRegist:function(){var e=this;_index.LifeCycle.trigger("registShow"),window.autoOpenDiv&&(autoOpenDiv.autoOpen=!1),window.free_twice&&free_twice.flag&&!free_twice.enter_game&&(window.new_iframe&&new_iframe.flag&&"click"!=new_iframe.show||!new_iframe.flag)&&e.freeLogin()},regist:function(e,t){var n=this;n.data.account=e,n.data.pwd=(0,_md.Md5)(t),n.doRegist()},registerInter:function(e){var t=this,n={qq:"11",weibo:"12",wechat:"13"},i=n[e]?n[e]:0,a=window.location.protocol,o=a+"//"+platformDomain+"/api/oauth_api.php?action=oauth_login&otype="+e+"&ab_param="+encodeURIComponent(gconfig.ad_param)+"&referer="+t.data.temrefer+"&referer_param="+t.data.tempara+"&bid="+encodeURIComponent(bid)+"&lid="+encodeURIComponent(lid)+"&game_id="+gconfig.game_id+"&game_server_id="+gconfig.game_server_id+"&wd="+getwd()+"&ab_type="+ab_type+"&ext="+ext+"&tj_from=220&tj_way="+i+"&from="+encodeURIComponent(a+"//"+document.domain+"/api_login.html");window.open(o,"newwindow","height=600, width=800, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no"),(new Image).src="//pt.clickdata.37wan.com/ps.gif?id=38&at=&gid="+gconfig.game_id+"&sid="+gconfig.game_server_id+"&e1="+t.data.temrefer+"&e2="+t.data.tempara+"&e3="+encodeURIComponent(gconfig.ad_param)+"&e4="+ab_type+"&e5="+encodeURIComponent(bid)+"&e6="+encodeURIComponent(lid)+"&e7="+e+"&e8="+i+"&rnd="+Math.floor(Math.random()*Math.pow(2,31))},registerPhone:function(e,t,n){var i=this,a=http+"://regapi.37.com/api/p_register_phone.php?action=login&login_account="+e+"&password="+t+"&ab_param="+encodeURIComponent(gconfig.ad_param)+"&referer="+i.data.temrefer+"&referer_param="+i.data.tempara+"&bid="+encodeURIComponent(bid)+"&lid="+encodeURIComponent(lid)+"&game_id="+gconfig.game_id+"&game_server_id="+gconfig.game_server_id+"&phone_code="+n+"&wd="+getwd()+"&ab_type="+ab_type+"&callback=phoneMsgCallback&tj_from=220&tj_way=1&ext="+ext;_callback.CallBack.doScript(a)},doRegist:function(){var e=this;(0,_try.Try)(function(){"http"==http?e.doRegistHttp():e.doRegistHttps(e.data.registerUrl+"&login_account="+encodeURIComponent(e.data.account)+"&password="+encodeURIComponent(e.data.pwd)+"&verify_code="+e.data.verifyCode,function(t){e.registStatic(t.success,e.data.registerApi)})})},doRegistHttp:function(){var e=this,t=document.getElementById("myframe"),n=document.getElementById("myform"),i=e.data.temrefer,a=e.data.tempara,o="http://"+platformDomain+"/api/p_register_v3.php?action=login&ab_param="+encodeURIComponent(gconfig.ad_param)+"&referer="+i+"&referer_param="+a+"&bid="+encodeURIComponent(bid)+"&lid="+encodeURIComponent(lid)+"&game_id="+gconfig.game_id+"&game_server_id="+gconfig.game_server_id+"&wd="+getwd()+"&ab_type="+ab_type+"&ext="+ext+"&s=1&tj_from=220&tj_way=1&url="+encodeURIComponent("http://"+document.domain+"/proxy.html");if(null===t){try{t=document.createElement('<iframe name="myframe">')}catch(e){t=document.createElement("iframe")}t.id="myframe",t.name="myframe",t.width=0,t.height=0,t.marginHeight=0,t.marginWidth=0,t.setAttribute("id","myframe"),t.setAttribute("name","myframe"),t.setAttribute("height",0),t.setAttribute("width",0),t.setAttribute("marginheight",0),t.setAttribute("marginwidth",0),t.setAttribute("frameborder",0),document.body.appendChild(t)}if(null!==n){var r=n.parentNode;r&&r.removeChild(n)}var d=document.createElement("form");d.setAttribute("id","myform"),d.setAttribute("action",o),d.setAttribute("method","post"),d.setAttribute("target","myframe");var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("id","login_account"),c.setAttribute("name","login_account"),c.setAttribute("value",e.data.account);var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("id","password"),s.setAttribute("name","password"),s.setAttribute("value",e.data.pwd);var l=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("id","verify_code"),s.setAttribute("name","verify_code"),s.setAttribute("value",e.data.verifyCode),d.appendChild(c),d.appendChild(s),d.appendChild(l),document.body.appendChild(d),document.getElementById("myform").submit()},doRegistHttps:function(e,t){var n=this;n.openWin(),_adLoadder.AdLoader.showTips('<font color="#008000">请稍后...</font>'),_callback.CallBack.doReq(e,function(e){(0,_try.Try)(function(){switch(t&&t(e),parseInt(e.success)){case 0:_index.LifeCycle.trigger("registed"),n.data.returnGameId=e.game_id?e.game_id:gconfig.game_id,n.data.returnServerId=e.game_server_id?e.game_server_id:gconfig.game_server_id,Cookies.set("pusername",n.data.account,365),n.registSuccess(e.url);break;case 8:n.closeWin(),_identifying.Identifying.open(),identifyingFlag=!0;break;case 7:n.closeWin(),_identifying.Identifying.open(),_identifying.Identifying.showTips("验证码错误"),identifyingFlag=!0;break;default:n.closeWin(),identifyingFlag&&_identifying.Identifying.showTips(e.message),identifyingFlag&&_identifying.Identifying.refreshImg(),_adLoadder.AdLoader.showTips('<font color="#FF0000">'+e.message+"</font>")}})})},doRegistInter:function(e){var t=this,n={};n.success=getParamUrl("e",e),n.authtType=getParamUrl("auth_type",e),n.url=decodeURIComponent(getParamUrl("gameweburl",e)),n.message=decodeURIComponent(getParamUrl("message",e)),n.game_id=getParamUrl("game_id",e),n.game_server_id=getParamUrl("game_server_id",e),t.data.account=decodeURIComponent(getParamUrl("LOGIN_ACCOUNT",e)),t.data.returnGameId=n.game_id?n.game_id:gconfig.game_id,t.data.returnServerId=n.game_server_id?n.game_server_id:gconfig.game_server_id,0==n.success?t.registSuccess(n.url):_adLoadder.AdLoader.showTips("授权暂时无法进行，请点击 “确认” 返回注册登录"),100!=n.success&&101!=n.success&&102!=n.success||_callback.CallBack.doImg("//log.he2d.com/direct_media/call_back?/cb/1/2255/52571.html?uid="+n.authtType)},registSuccess:function registSuccess(gameUrl){var _self=this;if(window.cs_ext&&(gameUrl=gameUrl+"&cs_ext="+cs_ext),window.user_referer&&(gameUrl=gameUrl+"&user_refer="+user_referer),window.reg_callback){if(reg_callback.url)return(new Image).src=reg_callback.url+"&rnd="+Math.floor(Math.random()*Math.pow(2,31)),_self.enterGame(gameUrl),!0;if(reg_callback.fn)try{if(eval(reg_callback.func),"monitorReg()"==reg_callback.func||-1!=reg_callback.func.search("beheActiveEvent")||"_CWiQ.push(['_trackReg', 1]);"==reg_callback.func)return _self.enterGame(gameUrl),!0}catch(e){}}_self.enterGame(gameUrl)},registStatic:function(e,t){var n=this;(new Image).src="//pt.clickdata.37wan.com/ps.gif?id=45&la="+n.data.account+"&gid="+gconfig.game_id+"&sid="+gconfig.game_server_id+"&ext="+referer+"&e1="+uid+"&e2="+gconfig.ad_param+"&e3="+ab_type+"&e4="+bid+"&e5="+lid+"&e6="+e+"&e7="+t+"&rnd="+Math.floor(Math.random()*Math.pow(2,31))},phoneStatic:function(e,t,n,i){var a=this;(new Image).src="//pt.clickdata.37wan.com/ps.gif?id=71&la="+e+"&gid="+gconfig.game_id+"&sid="+gconfig.game_server_id+"&ext="+a.data.temrefer+"&e1="+a.data.tempara+"&e2="+t+"&e3="+n+"&e4="+i+"&e5="+(new Date).getTime()},freeLogin:function(){var e=this;e.doRegistHttps(http+"://"+platformDomain+"/api/p_register_login.php?ab_param="+encodeURIComponent(gconfig.ad_param)+"&referer="+e.data.temrefer+"&referer_param="+e.data.tempara+"&bid="+encodeURIComponent(bid)+"&lid="+encodeURIComponent(lid)+"&game_id="+gconfig.game_id+"&game_server_id="+gconfig.game_server_id+"&wd="+getwd()+"&ab_type="+ab_type+"&tj_from=220&tj_way=4&ext="+ext,function(t){e.registStatic(t.success,"p_register_login")})},openWin:function(){var e=this;window.url_blank&&!new_iframe.flag&&(e.win=window.open("","_blank"))},closeWin:function(){this.win&&this.win.close()&&(this.win=null)},enterGame:function(e){var t=this,n=/windows|win32/i.test(navigator.userAgent);_index.LifeCycle.trigger("enterGame"),window.new_iframe&&new_iframe.flag&&"success"==new_iframe.show||(n&&"undefined"!=typeof url_success&&""!=url_success?t.win?(t.win.window.location=url_success+"?referer="+referer+"&referer_param="+uid+"&ab_param="+gconfig.ad_param+"&game_id="+t.data.returnGameId+"&game_server_id="+t.data.returnServerId+"&ab_type="+ab_type+"&bid="+bid+"&lid="+lid+"&la="+t.data.account,window.url_go_37&&(isPopWin.flag=!1,top.window.location="http://www.37.com/?refer="+referer)):(isPopWin.flag=!1,top.window.location=url_success+"?referer="+referer+"&referer_param="+uid+"&ab_param="+gconfig.ad_param+"&game_id="+t.data.returnGameId+"&game_server_id="+t.data.returnServerId+"&ab_type="+ab_type+"&bid="+bid+"&lid="+lid+"&la="+t.data.account):t.win?(t.win.window.location=e,window.url_go_37&&(isPopWin.flag=!1,top.window.location="http://www.37.com/?refer="+referer)):(isPopWin.flag=!1,top.window.location=e))}}},function(e,t){function n(e){e()}t.__esModule=!0,t.Try=n},function(e,t,n){t.__esModule=!0,t.AdLoader=void 0;var i=n(10),a=n(11),o=n(12),r=n(3),d=null;d=r.Checker.supportCanvas?i.AnccLoader:r.Checker.supportFlash?a.FlashLoader:o.ImgLoader,t.AdLoader=d},function(e,t){t.__esModule=!0;var n={},i=document.location.search.substr(1),a=[];i=i.split("&");for(var o=0,r=i.length;o<r;o++)a=i[o].split("="),n[a[0]]=a[1];t.Param={getParam:function(e){return n[e]||""},getParamUrl:function(e,t){}}},function(e,t,n){var i=n(1),a=n(0),o=n(4),r=n(2),d=n(3);a.Global.init(),a.Global.addGlobalFn("CallBackHandler",i.CallBack),a.Global.addGlobalFn("canvas",null),a.Global.addGlobalFn("stage",null),a.Global.addGlobalFn("playSound",function(e,t){return createjs.Sound.play(e,createjs.Sound.INTERRUPT_EARLY,0,0,t)}),a.Global.addGlobalFn("openDiv",o.App.openRegist),a.Global.addGlobalFn("$",function(e){return document.getElementById(e)}),a.Global.addGlobalFn("registerWinopen",function(e){o.App.registerInter(e)}),a.Global.addGlobalFn("winopenRegisterCallBack",function(e){o.App.doRegistInter(e)}),a.Global.addGlobalFn("bodyLoad",function(){}),i.CallBack.doScript("http://uad3.369.com/js/"+gconfig.platform_deploy+"/g2.js",function(){({init:function(){var e=this;r.LifeCycle.add("bodyLoaded",function(){e.checkHttps(),(new Image).src="//cm.he2d.com/1/",window.moveTo(0,0),window.resizeTo(screen.width,screen.height),document.body.onmousedown=function(){r.LifeCycle.trigger("mousedown"),d.Checker.supportFlash&&window.tj_click&&tj_click.flag&&""!=tj_click.url&&i.CallBack.doImg(tj_click.url+cs_ext)}}),o.App.init(),r.LifeCycle.trigger("bodyLoaded")},checkHttps:function(){!window.ActiveXObject||window.XMLHttpRequest?i.CallBack.doScript("https://"+platformDomain+"/no-delete.js",function(){"https"==http&&"undefined"==typeof _nd&&(/^https/.test(window.location.href)||(http="http"))}):http="http"}}).init()})},function(e,t,n){t.__esModule=!0,t.Static=void 0;var i=n(1),a=n(0),o=(n(5),n(3));t.Static={doStatic:function(e){var t=this;"load"==e?t.staticLoad():"registShow"==e?t.staticOpenRegist():"adLoadEnd"==e?t.staticAdLoadEnd():"bodyLoaded"==e?t.staticBodyLoadEnd():"mousedown"==e&&t.staticClick()},staticBodyLoadEnd:function(){i.CallBack.doImg("//"+a.Global.getGlobal("logDomain")+a.Global.getGlobal("baseUrl")+"2.js?uid="+a.Global.getGlobal("uid")+"&lt="+pt.load()+"&key="+a.Global.getGlobal("key")+a.Global.getGlobal("adsys_param"))},staticLoad:function(){window.tj_reach&&tj_reach.flag&&""!=tj_reach.url&&i.CallBack.doReq(tj_reach.url)},staticOpenRegist:function(){i.CallBack.doImg("//"+a.Global.getGlobal("logDomain")+a.Global.getGlobal("baseUrl")+"3.js?uid="+a.Global.getGlobal("uid")+"&lt="+pt.click()+"&key="+a.Global.getGlobal("key")+a.Global.getGlobal("adsys_param")),!o.Checker.supportFlash&&window.tj_noflash_regbox&&i.CallBack.doImg(tj_noflash_regbox)},staticAdLoadEnd:function(){i.CallBack.doImg("//"+a.Global.getGlobal("logDomain")+a.Global.getGlobal("baseUrl")+"5.js?uid="+a.Global.getGlobal("uid")+"&lt="+pt.adload()+"&key="+a.Global.getGlobal("key")+a.Global.getGlobal("adsys_param"))},staticClick:function(){window.tj_click&&tj_click.flag&&""!=tj_click.url&&i.CallBack.doImg(tj_click.url.indexOf("?")>0?tj_click.url+cs_ext+"&r"+Math.random():tj_click.url+"?"+cs_ext+"&r"+Math.random())}}},function(e,t,n){t.__esModule=!0,t.AnccLoader=void 0;var i=n(0),a=n(2),o=n(1),r="";t.AnccLoader={$Container:null,eStage:document.getElementById("Stage"),eApp:document.getElementById("app"),el:{},init:function(){var e=this;document.body.style.background="url("+gconfig.flash_path+"/bg.jpg) center top #000 no-repeat",document.body.style.height=gconfig.height+"px",e.eApp.style.width=e.eStage.style.width=gconfig.width+"px",e.eApp.style.height=e.eStage.style.height=gconfig.height+"px",e.eApp.innerHTML=' <canvas id="canvas" width="'+gconfig.height+'" height="'+gconfig.height+'" style="width:'+gconfig.width+"px;height:"+gconfig.height+'px;display: block; background: transparent;"></canvas>',e.addGlobalFn(),e.addRegBox(),e.bindEvent(),o.CallBack.doScript("http://p.gm99.com/ancc/js/lib/createjs/createjs.min.js?v=1",function(){o.CallBack.doScript(gconfig.flash_path+"index.js",function(){e.loadANCC()})})},addRegBox:function(){var e,t=this,n=document.createElement("div");n.setAttribute("class","box-regist-ancc"),n.innerHTML=["<div>",'<input type="hidden" id="login_account"/>','<input type="text" id="uname" class="input-control" value="'+Cookies.get("pusername","")+'"/>','<span id="unameNotice" class="notice-control">4-20个字符，由字母或数字组成</span>','<input type="password" id="password" class="input-control"/>','<span id="passwordNotice" class="notice-control"> 长度6~20个字符</span>','<input type="password" id="confirmPassword" class="input-control"/>','<span id="confirmPasswordNotice" class="notice-control">两次输入的密码请保持一致</span>','<div id="agree" class="agreeWrap">','<input type="checkbox" checked id="agreeCheck"/>','<span id="agreeText" href="#" class="text">我已经阅读并同意《用户注册协议》</span>',"</div>",'<button id="play">登录</button>',"</div>"].join(""),t.eStage.appendChild(n),t.el=(e={$uInput:$("uname"),$pInput:$("password"),$wInput:$("confirmPassword"),$uTips:$("unameNotice"),$pTips:$("passwordNotice"),$wTips:$("confirmPasswordNotice"),$btn:$("play"),$agree:$("agree"),$check:$("agreeCheck")},e.$agree=$("agreeText"),e)},getRegisterInfo:function(){var e=this;return{account:e.el.$uInput.value,pwd:e.el.$pInput.value,pwd1:e.el.$wInput.value}},bindEvent:function(){var e=this;e.el.$uInput.onblur=function(){checkLoginAccountNew(this.value)},e.el.$uInput.onkeyup=function(e){var e=e||window.event||arguments.callee.caller.arguments[0];if(13!=e.keyCode)return!1;imgRegster()},e.el.$pInput.onblur=function(){checkPasswordNew(this.value)},e.el.$pInput.onkeyup=function(e){var e=e||window.event||arguments.callee.caller.arguments[0];if(13!=e.keyCode)return!1;imgRegster()},e.el.$wInput.onblur=function(){checkPassword1New(this.value,e.el.$pInput.value)},e.el.$wInput.onkeyup=function(e){var e=e||window.event||arguments.callee.caller.arguments[0];if(13!=e.keyCode)return!1;imgRegster()},e.el.$btn.onclick=function(){imgRegster()}},isAgree:function(){return r||(r=this.el.$agree.style.color||"black"),this.el.$check.checked?(this.el.$agree.style.color=r,!0):(this.el.$agree.style.color="red",!1)},addGlobalFn:function(){i.Global.addGlobalFn("setInputCss",function(e,t){var n=document.getElementById(e);n.style.left=t.x+"px",n.style.top=t.y+"px",n.style.width=t.width-10+"px",n.style.height=t.height+"px",n.style.lineHeight=t.height+"px",document.createElement("canvas").getContext||(n.style.background="#fff"),n.style.display="block",n.style.color=t.color}),i.Global.addGlobalFn("setNoticeCss",function(e,t){var n=document.getElementById(e);n.style.left=t.x+"px",n.style.top=t.y+"px",n.style.display="block",n.style.color=t.color,n.style.font=t.font})},loadANCC:function(){var e=this,t=null;createjs.MotionGuidePlugin.install(),images=images||{},t=new createjs.LoadQueue(!0,gconfig.flash_path,"Anonymous"),t.setMaxConnections(100),t.maintainScriptOrder=!0,t.installPlugin(createjs.Sound),t.addEventListener("fileload",e.handleFileLoad),t.addEventListener("complete",e.handleComplete),t.loadManifest(lib.properties.manifest,!0)},handleFileLoad:function(e){"image"==e.item.type&&(images[e.item.id]=e.result)},handleComplete:function(e){a.LifeCycle.trigger("adLoadEnd"),document.body.style.background="#000",canvas=document.getElementById("canvas"),canvas.style.background="#fff;";for(var t=e.target,n=lib.ssMetadata,i=0;i<n.length;i++)ss[n[i].name]=new createjs.SpriteSheet({images:[t.getResult(n[i].name)],frames:n[i].frames});var o=new lib.index;stage=new createjs.Stage(canvas),stage.addChild(o),stage.enableMouseOver(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",stage),function(e,t,n,i){function a(){var a=lib.properties.width,c=lib.properties.height,s=window.innerWidth,l=window.innerHeight,p=window.devicePixelRatio||1,g=s/a,u=l/c,f=1;e&&("width"==t&&o==s||"height"==t&&r==l?f=d:n?1==i?f=Math.min(g,u):2==i&&(f=Math.max(g,u)):(s<a||l<c)&&(f=Math.min(g,u))),canvas.width=a*p*f,canvas.height=c*p*f,canvas.style.width=a*f+"px",canvas.style.height=c*f+"px",stage.scaleX=p*f,stage.scaleY=p*f,o=s,r=l,d=f}var o,r,d=1;window.addEventListener("resize",a),a()}(!1,"both",!1,1)},showUTips:function(e){this.el.$uTips.innerHTML=e},showWTips:function(e){this.el.$pTips.innerHTML=e},showPTips:function(e){this.el.$wTips.innerHTML=e},showTips:function(e){this.el.$uTips.innerHTML=e},openReg:function(){document.getElementById("canvas").click()}}},function(e,t,n){t.__esModule=!0,t.FlashLoader=void 0;var i=n(0),a=n(2);t.FlashLoader={$Container:null,eStage:document.getElementById("Stage"),eApp:document.getElementById("app"),init:function(){var e=this;e.eApp.style.width=e.eStage.style.width=1==gconfig.reg_scale?"100%":gconfig.width+"px",e.eApp.style.height=e.eStage.style.height="auto",e.eApp.innerHTML='<div id="flash" width="'+gconfig.height+'" height="'+gconfig.height+'" style="width:'+gconfig.width+"px;height:"+gconfig.height+'px;display: block; background: transparent;"></div>',e.addGlobalFn(),e.loadFlash(),e.$Container=e.getFlash("flash_obj")},addGlobalFn:function(){var e=this;i.Global.addGlobalFn("loadAdTrack",function(){var t=gconfig.center_h||1,n=gconfig.center_v||2,i=gconfig.ad_scale||2;a.LifeCycle.trigger("adLoadEnd"),document.body.style.background="#000",e.$Container=e.getFlash("flash_obj"),e.setHeight(),1!=t&&1!=n||2==i&&setTimeout(function(){var e=document.documentElement||document.body;scrollTo(1==t&&gconfig.width>e.clientWidth?(gconfig.width-e.clientWidth)/2:0,1==n&gconfig.height>=e.scrollHeight?(e.scrollHeight-e.clientHeight)/2:0)},200)})},loadFlash:function(){var e=this,t=document.getElementById("flash"),n="",i=gconfig.ad_scale||2,a=gconfig.reg_scale||2,o="path="+gconfig.flash_path;o+="&adScale="+(1==i?1:"")+"&regScale="+(2==a?1:""),2==i&&(_width=gconfig.width),1==i&&(e.eApp.style.width=e.eStage.style.width=t.style.width="100%",window.onresize=function(){e.setHeight()}),n+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+_width+'" height="'+gconfig.height+'" id="flash_obj" align="middle">',n+='<param name="allowScriptAccess" value="always" />',n+='<param name="movie" value="'+gconfig.flash_path+'/index.swf" />',n+='<param name="quality" value="high" />',n+='<param name="bgcolor" value="#000000" />',n+='<param name="FlashVars" value="'+o+'" />',n+='<param name="wmode" value="transparent" />',n+='<embed src="'+gconfig.flash_path+'/index.swf"  FlashVars="'+o+'" quality="high" bgcolor="#000000" width="'+_width+'" height="'+gconfig.height+'" name="flash_obj" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer"  wmode="transparent" />',n+="</object>",t.innerHTML=n},setHeight:function(){var e,t=this;1==(gconfig.ad_scale||2)&&(e=(document.documentElement||document.body).clientWidth,e>gconfig.width?t.$Container.height=gconfig.height:t.$Container.height=e/gconfig.width*gconfig.height)},openReg:function(){this.$Container.ActivateOpen()},showUTips:function(e){return e},showWTips:function(e){return e},showPTips:function(e){return e},showTips:function(e){this.$Container.alertInfo(e)},getFlash:function(e){return-1!=navigator.appName.indexOf("Microsoft")?window.document[e]?window.document[e]:document.getElementById(e):document.embeds&&document.embeds[e]?document.embeds[e]:void 0}}},function(e,t,n){t.__esModule=!0,t.ImgLoader=void 0;var i=(n(0),n(2)),a=n(4),o=n(3),r=!0;t.ImgLoader={$Container:null,eStage:document.getElementById("Stage"),eApp:document.getElementById("app"),init:function(){var e=this;document.body.style.background="#000",e.eApp.style.width=e.eStage.style.width=gconfig.width+"px",e.eApp.style.height=e.eStage.style.height=gconfig.height+"px";var t=new Image;t.onerror=function(){this.src=gconfig.flash_path+"bg.jpg"},t.setAttribute("style","width:"+gconfig.width+"px;height:"+gconfig.height+"px;display: block; background: transparent;"),t.setAttribute("src",gconfig.flash_path+"pm.jpg"),e.eApp.appendChild(t),e.addGlobalFn(),e.loadRegBox(),e.bindEvent(),i.LifeCycle.add("mousedown",function(){r&&(e.openReg(),a.App.openRegist()),r=!1}),i.LifeCycle.add("bodyLoaded",function(){o.Checker.isMobile&&(window.location.href="//g.pp9l.com/s/1/2258/53173.html?uid="+referer)})},addGlobalFn:function(){},getRegisterInfo:function(){var e=this;return{account:e.$Container.eUInput.value,pwd:e.$Container.ePInput.value,pwd1:Cookies.get("pusername","")?e.$Container.ePInput.value:e.$Container.ePInput1.value}},loadRegBox:function(){var e=this,t=document.body,n=document.createElement("div"),a=new Image;a.setAttribute("src",gconfig.flash_path+"pm.jpg"),a.setAttribute("style","width:"+gconfig.width+"px;height:"+gconfig.height+"px;display: block; background: transparent;"),a.onerror=function(){a.setAttribute("src",gconfig.flash_path+"bg.jpg")},a.onload=function(){i.LifeCycle.trigger("adLoadEnd")},t.style.cursor="pointer",n.setAttribute("id","new_reg_wrap"),n.innerHTML=['<div id="box_register" class="clearfix2">','    <div id="register_form" style="margin:0">','         <div class="reg_wrap" id="reg_wrap">','             <p class="p_inp_wrap">','                 <span class="label">用户名</span>','                 <input type="text" class="inp_user inp" id="noflash_login_account" value="'+Cookies.get("pusername","")+'"/>','                 <span class="icon_inp user"></span>',"             </p>",'             <div class="normal p_infos" id="noflash_u_info" >4-20个字符,由字母或数字组成</div>','             <p class="p_inp_wrap">','                 <span class="label">登录密码：</span>','                  <input id="noflash_password" type="password" class="inp" />','                 <span class="icon_inp pwd"></span>',"             </p>",'             <div class="normal p_infos" id="noflash_w_info" >长度6-20个字符</div>','             <div id="tr_cxzc" style="display:none;">','                     <a href="javascript: clearCookie();" id="btn_re_register" class="btn_re_register">重新注册</a>',"             </div>",'             <div id="tr_password1" class="p_inp_wrap p_inp_wrap_last">','                 <span class="label">重复密码：</span>','                 <input id="noflash_password1" type="password" name="password1" class="text inp"/>','                 <div class="normal p_infos" id="noflash_p_info">两次输入的密码请保持一致</div>','                 <span class="icon_inp pwd"></span>',"             </div>",'             <input type="submit" name="SubmitBtn"  id="submitbtn"/>',"<div class='p_agree'>"+_SET_37.agreement.str+"</div>","       </div>",'            <div  class="other_reg">','              <p class="p_reg_tit">使用其他帐号登录</p>','              <div class="icon_wrap">','                 <a href="javascript:;" class="a_reg_qq" onclick="registerWinopen(\'qq\')"></a>','                 <a href="javascript:;" class="a_reg_wx" onclick="registerWinopen(\'wechat\')"></a>','                 <a href="javascript:;" class="a_reg_wb" onclick="registerWinopen(\'weibo\')"></a>',"             </div>","            </div>","     </div>"," </div>"].join(""),e.eStage.appendChild(n),e.$Container=$("new_reg_wrap"),e.$Container.eUInfo=$("noflash_u_info"),e.$Container.eWInfo=$("noflash_w_info"),e.$Container.ePInfo=$("noflash_p_info"),e.$Container.eUInput=$("noflash_login_account"),e.$Container.ePInput=$("noflash_password"),e.$Container.ePInput1=$("noflash_password1"),e.$Container.eTrP1=$("tr_password1"),e.$Container.eTrRegister=$("tr_cxzc"),e.$Container.eBtn=$("submitbtn"),e.$Container.eBtnAgain=$("btn_re_register"),e.$Container.eCheck=$("checkservice"),e.$Container.eAgree=$("agreement"),Cookies.get("pusername","")?e.hideComparePwd():e.showComparePwd()},isAgree:function(){return this.$Container.eCheck.checked?(this.$Container.eAgree.style.color="black",!0):(this.$Container.eAgree.style.color="red",!1)},bindEvent:function(){var e=this;e.$Container.eUInput.onblur=function(){checkLoginAccountNew(this.value)},e.$Container.eUInput.onkeyup=function(e){var e=e||window.event||arguments.callee.caller.arguments[0];if(13!=e.keyCode)return!1;imgRegster()},e.$Container.ePInput.onblur=function(){checkPasswordNew(this.value)},e.$Container.ePInput.onkeyup=function(e){var e=e||window.event||arguments.callee.caller.arguments[0];if(13!=e.keyCode)return!1;imgRegster()},e.$Container.ePInput1.onblur=function(){checkPassword1New(this.value,e.$Container.ePInput.value)},e.$Container.ePInput1.onkeyup=function(e){var e=e||window.event||arguments.callee.caller.arguments[0];if(13!=e.keyCode)return!1;imgRegster()},e.$Container.eBtn.onclick=function(){imgRegster()},e.$Container.eBtnAgain.onclick=function(){Cookies.set("pusername","",-1),e.showComparePwd()}},hideComparePwd:function(){var e=this;e.$Container.eUInput.value=Cookies.get("pusername",""),e.$Container.eTrP1.style.display="none",e.$Container.eTrRegister.style.display="block"},showComparePwd:function(){var e=this;e.$Container.eTrP1.style.display="block",e.$Container.eTrRegister.style.display="none",e.$Container.eUInput.value="",e.$Container.ePInput.value="",e.$Container.ePInput1.value=""},showUTips:function(e){this.$Container.eUInfo.innerHTML=e},showWTips:function(e){this.$Container.eWInfo.innerHTML=e},showPTips:function(e){this.$Container.ePInfo.innerHTML=e},showTips:function(e){this.$Container.eUInfo.innerHTML=e},openReg:function(){this.$Container.style.display="block"}}},function(e,t){function n(e){var t,n,i,a,r,d;for(i=e.length,n=0,t="";n<i;){if(a=255&e.charCodeAt(n++),n==i){t+=o.charAt(a>>2),t+=o.charAt((3&a)<<4),t+="==";break}if(r=e.charCodeAt(n++),n==i){t+=o.charAt(a>>2),t+=o.charAt((3&a)<<4|(240&r)>>4),t+=o.charAt((15&r)<<2),t+="=";break}d=e.charCodeAt(n++),t+=o.charAt(a>>2),t+=o.charAt((3&a)<<4|(240&r)>>4),t+=o.charAt((15&r)<<2|(192&d)>>6),t+=o.charAt(63&d)}return t}function a(e){var t=o.length-2,a=[];for(i=0;i<15;i++)a.push(o.charAt(Math.floor(Math.random()*t))),7===i&&a.push(e.substr(0,3)),12===i&&a.push(e.substr(3));return n(a.join(""))}t.__esModule=!0;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.Md5=a},function(e,t,n){t.__esModule=!0,t.FreeLogin=void 0;var i=n(1),a=n(0),o=n(6),r=n(4);t.FreeLogin={ePopWrap:null,eBubbleWrap:null,init:function(){var e=this;window.free_twice&&(free_twice.flag&&(a.Global.addGlobalFn("freeStatus",function(e,t,n){a.Global.addGlobalFn("_loginName",e),a.Global.addGlobalFn("_loginUrl",t),a.Global.addGlobalFn("_loginTime",n)}),i.CallBack.doScript("//"+gconfig.status_login_domain+"/api/login.php?action=status&game_id="+gconfig.game_id+"&server_id="+gconfig.game_server_id+"&callback=freeStatus")),free_twice.new_free&&(LifeCycle.add("bodyLoaded",function(){e.doStatic(1),e.getStatus()}),LifeCycle.add("enterGame",function(){e.doStatic(7)}),a.Global.addGlobalFn("hanlderStatus",function(t){if(1==t.code){var n=t.data.LOGIN_ACCOUNT,i=t.data.SHOW_NAME;n&&(e.loginAccount=n,e.ePopWrap=document.createElement("div"),e.ePopWrap.setAttribute("id","pop-wrap"),i.length>12&&(i=i.substring(0,11)+"..."),e.ePopWrap.innerHTML=e.popTemplate.replace(/##loginAccount##/g,i),e.eBubbleWrap=document.createElement("div"),e.eBubbleWrap.setAttribute("id","bubble-wrap"),i.length>7&&(i=i.substring(0,6)+"..."),e.eBubbleWrap.innerHTML=e.bubbleTemplate.replace(/##loginAccount##/g,i),document.body.appendChild(e.ePopWrap),document.body.appendChild(e.eBubbleWrap),e.doStatic(2),e.bindEvent())}}),i.CallBack.doScript("//"+gconfig.status_login_domain+"/api/login.php?action=userinfo&callback=hanlderStatus")))},getStatus:function(){free_twice.flag&&i.CallBack.doScript("//"+gconfig.status_login_domain+"/api/login.php?action=status&game_id="+gconfig.game_id+"&server_id="+gconfig.game_server_id+"&callback=freeStatus"),free_twice.new_free&&i.CallBack.doScript("//"+gconfig.status_login_domain+"/api/login.php?action=userinfo&callback=hanlderStatus")},bindEvent:function(){var e=this,t=document.getElementById("pop-wrap-mask"),n=document.getElementById("pop-btn-login"),i=document.getElementById("pop-btn-regist"),a=document.getElementById("bubble-btn-regist"),o=document.getElementById("pop-wrap-close");t.onclick=function(){e.doStatic(5),e.hide()},o.onclick=function(){e.doStatic(5),e.hide()},n.onclick=function(){e.doStatic(3),e.doLogin()},i.onclick=function(){e.doStatic(5),e.doRegistAgain()},a.onclick=function(){e.doStatic(6),e.doLogin()}},hide:function(){var e=this;e.ePopWrap.remove?e.ePopWrap.remove():e.ePopWrap.parentNode&&e.ePopWrap.parentNode.removeChild&&e.ePopWrap.parentNode.removeChild(e.ePopWrap);var t=-150,n=10,i=setInterval(function(){t+=n,n+=5,t>=0&&(clearInterval(i),i=null,t=0),e.eBubbleWrap.style.top=t+"px"},30);o.AdLoader.openReg()},doStatic:function(e){var t=this;(new Image).src="//pt.clickdata.37wan.com/ps.gif?id=55&at=&la="+(t.loginAccount||"")+"&ck=&gid="+gconfig.game_id+"&sid="+gconfig.game_server_id+"&cf=&rf=&b=&ext="+gconfig.ad_param+"&e1="+e+"&e2=&e3=&e4=&e5="},doLogin:function(){a.Global.addGlobalFn("hanlderFreeLogin",function(){r.App.freeLogin()}),i.CallBack.doReq("//"+gconfig.status_login_domain+"/api/login.php?action=status&game_id="+gconfig.game_id+"&server_id="+gconfig.game_server_id+"&callback=hanlderFreeLogin",null)},doRegistAgain:function(){var e=this;e.doStatic(4),e.hide()},popTemplate:'<div id="pop-wrap-mask" class="mask"></div> <div id="pop-wrap-content"> <div id="pop-wrap-close"></div><span id="pop-wrap-account">##loginAccount##</span> <div class="btn-wrap"> <div id="pop-btn-login" class="btn">立即开始游戏 </div> <div id="pop-btn-regist" class="btn">重新注册账号 </div> </div> </div> ',bubbleTemplate:'<span id="bubble-account">##loginAccount##</span><div id="bubble-btn-regist" class="btn"></div>'}},function(e,t,n){t.__esModule=!0,t.Validator=void 0;var i=n(0),a=(n(3),n(4)),o=n(6),r=n(1),d=n(2),c={};i.Global.addGlobalFn("phone",""),t.Validator={init:function(){var e=this;i.Global.addGlobalFn("checkLoginAccountNew",function(t){var n=e.checkAccount(t);return 0==n.code?o.AdLoader.showUTips("<font color='#FF0000'>"+n.msg+"</font>"):o.AdLoader.showUTips("<font color='#008000'>"+n.msg+"</font>")}),i.Global.addGlobalFn("checkPasswordNew",function(t){var n=e.checkPwd(t);return 0==n.code?o.AdLoader.showWTips("<font color='#FF0000'>"+n.msg+"</font>"):o.AdLoader.showWTips("<font color='#008000'>"+n.msg+"</font>")}),i.Global.addGlobalFn("checkPassword1New",function(t,n){var i=e.comparePwd(t,n);return 0==i.code?o.AdLoader.showPTips("<font color='#FF0000'>"+i.msg+"</font>"):o.AdLoader.showPTips("<font color='#008000'>"+i.msg+"</font>")}),i.Global.addGlobalFn("flashRegisterNew",function(t,n,i){var o=e.checkAccount(t);return 0==o.code?"<font color='#FF0000'>"+o.msg+"</font>":(o=e.checkPwd(n),0==o.code?"<font color='#FF0000'>"+o.msg+"</font>":(o=e.comparePwd(n,i),0==o.code?"<font color='#FF0000'>"+o.msg+"</font>":void a.App.regist(t,n)))}),i.Global.addGlobalFn("imgRegster",function(){var t=o.AdLoader.getRegisterInfo(),n=t.account,i=t.pwd,r=t.pwd1,d=e.checkAccount(n);return 0==d.code?void o.AdLoader.showUTips("<font color='#FF0000'>"+d.msg+"</font>"):(o.AdLoader.showUTips("<font color='#008000'>"+d.msg+"</font>"),d=e.checkPwd(i),0==d.code?void o.AdLoader.showWTips("<font color='#FF0000'>"+d.msg+"</font>"):(d=e.comparePwd(i,r),0==d.code?void o.AdLoader.showPTips("<font color='#FF0000'>"+d.msg+"</font>"):void(o.AdLoader.isAgree()&&a.App.regist(n,i))))}),i.Global.addGlobalFn("checkPhoneUser",function(e){if(0==e.success){if(1==e.is_phone)return a.App.phoneStatic(phone,2,1,1),void d.LifeCycle.trigger("phoneReg");0==e.is_phone&&a.App.phoneStatic(phone,2,2,1)}else-1==e.success&&(1==e.is_phone?a.App.phoneStatic(phone,1,1,1):0==e.is_phone&&a.App.phoneStatic(phone,1,2,1))})},checkAccount:function(e){var t=this,n=/^(qq_)/i,i=/^(wx_)/i,a=/^(wb_)/i,o=/^(6711_)/i,r=/^(h5yx_)/i,d=/^(youke_)/i,c=/^13[0-9]{1}[0-9]{8}$|^14[579]{1}[0-9]{8}$|^15[012356789]{1}[0-9]{8}$|^18[0-9]{1}[0-9]{8}$|^17[01235678]{1}[0-9]{8}$/,s={code:1,msg:"帐号填写正确！"};return c.test(e)&&(phone=e,t.reqPhone(e)),n.test(e)?{code:0,msg:"请勿注册前缀为“qq_”的帐号"}:i.test(e)?{code:0,msg:"请勿注册前缀为“wx_”的帐号"}:a.test(e)?{code:0,msg:"请勿注册前缀为“wb_”的帐号"}:o.test(e)?{code:0,msg:"请勿注册前缀为“6711_”的帐号"}:r.test(e)?{code:0,msg:"请勿注册前缀为“h5yx_”的帐号"}:d.test(e)?{code:0,msg:"请勿注册前缀为“youke_”的帐号"}:/^[A-Za-z0-9_]{4,20}$/.test(e)?s:{code:0,msg:"帐号不符合规定"}},checkPwd:function(e){var t={code:0,msg:"密码不符合规定！"};return/^[\x01-\xfe]{6,20}$/.test(e)&&(t={code:1,msg:"密码填写正确！"}),t},comparePwd:function(e,t){var n=this;return e!=t?{code:0,msg:"两次填写的密码不一致！"}:n.checkPwd(e)},reqPhone:function(e){if(!c[e]){c[e]=1;var t=http+"://regapi.37.com/api/p_register_check.php?action=checkUser&login_account="+e+"&type=3&check_phone=1&ajax=0&callback=checkPhoneUser";r.Callback.doScript(t)}}}},function(e,t,n){t.__esModule=!0,t.Identifying=void 0;var i=n(0),a=n(4);t.Identifying={data:{show:!1},ref:{eBox:document.getElementById("box-validation"),eImg:document.getElementById("validation_img"),eCode:document.getElementById("check-code"),eBtn:document.getElementById("validation_register"),eClose:document.getElementById("val-pop-close-bg"),eTip:document.getElementById("validation_title")},init:function(){var e=this;e.ref.eClose.onclick=function(){e.data.show=!1,e.ref.eBox.style.display="none"},i.Global.addGlobalFn("verifyRegister",function(){a.App.data.verifyCode=e.ref.eCode.value,a.App.doRegist()})},open:function(){var e=this;e.ref.eTip.innerHTML="输入验证码完成注册，立即畅玩游戏",e.ref.eBox.className="addbg",e.ref.eBox.style.left=document.body.scrollHeight+"px",e.ref.eBox.style.left=document.body.scrollHeight+"px",e.ref.eBox.style.top=document.body.scrollTop+window.screen.availHeight/2-170+"px",e.ref.eBox.style.display="block",e.refreshImg(),e.ref.eCode.value="",e.ref.eCode.focus(),e.data.show=!0},close:function(){var e=this;e.data.show=!1,e.ref.eBox.style.display="none"},showTips:function(e){this.ref.eTip.innerHTML=e},refreshImg:function(){this.ref.eImg.src="//regapi.37.com/code.php?t="+Math.random()}}},function(e,t,n){t.__esModule=!0,t.BackPop=void 0;var i=n(2);t.BackPop={_t:null,iframe:null,wrapperDiv:null,init:function(){var e=this;isPopWin.flag&&(e.newIframe(),e.bindEvent())},newIframe:function(){var e=this;document.body.clientHeight||document.documentElement.clientHeight,e.wrapperDiv=document.createElement("div"),e.wrapperDiv.id="newdiv",e.wrapperDiv.innerHTML="<iframe src='"+isPopWin.url+"' style='width:100%;display:none;height:100%' frameborder=0 id='my_iframe'></iframe>",document.body.appendChild(e.wrapperDiv),e.iframe=document.getElementById("my_iframe")},bindEvent:function(){var e=this;window.onbeforeunload=function(t){e.showPopIframe()},window.onunload=function(t){e.showPopIframe()},window.onunloadcancel=function(){clearTimeout(e._t)}},showPopIframe:function(e){var t=this,n=isPopWin.text||"亲，确定要离开吗？";e=e||window.event,setTimeout(function(){t._t=setTimeout(window.onunloadcancel,0)},0);var a=navigator.appName;if(e&&isPopWin.flag){isPopWin.flag=!1,e.returnValue=n,document.getElementsByTagName("html")[0].style.backgroundColor="#ffffff",document.body.style.backgroundColor="#ffffff",document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden",document.body.style.height="100%",t.wrapperDiv.style.height="100%",t.iframe.style.display="block";for(var o=0;o<document.getElementsByTagName("div").length;o++)document.getElementsByTagName("div")[o].style.display="none";t.wrapperDiv.style.display="block",i.LifeCycle.trigger("popwin")}if(isPopWin.flag){if("Netscape"==a)return n;window.event.returnValue=n}}}},function(e,t,n){t.__esModule=!0,t.GameBox=void 0;var i=n(1);t.GameBox={init:function(){game_box.flag&&(game_box.isLog?this.doLog():this.doNew())},doNew:function(){var e=document.createElement("div");e.setAttribute("id","game_box"),e.innerHTML=['<a  id="coverObject" href="'+game_box.url+'" target="_blank" style="text-indent:-9999px; position:absolute;top:0;left:0; z-index:10;display:block; width:'+game_box.width+"px; height:"+game_box.height+'px" >1</a>','    <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+game_box.width+'" height="'+game_box.height+'" id="game" align="middle">','        <param name="allowScriptAccess" value="sameDomain">','        <param name="movie" value="'+game_box.src+'">','        <param name="quality" value="high">','        <param name="bgcolor" value="#000000">','        <param name="wmode" value="transparent">','        <embed src="'+game_box.src+'" quality="high" bgcolor="#000000" width="'+game_box.width+'" height="'+game_box.height+'" name="game" align="middle" allowscriptaccess="sameDomain" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" wmode="transparent">',"    </object>"].join(""),document.body.appendChild(e);var t=!0;document.getElementById("coverObject").onclick=function(e){if(game_box.flag&&!game_box.isLog){var e=e||window.event||arguments.callee.caller.arguments[0];e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,t&&""!=game_box.api&&((new Image).src=game_box.api+"&e1="+gconfig.union_id+"&e2="+gconfig.ad_param+"&e3="+referer+"&e4="+uid+"&e5="+gconfig.game_id+"&e6="+gconfig.game_server_id+"&e7=&e8=&e9=&e10=&e11=&e12=&e13=&e14=&e15=&e16=&e17=&e18=&e19=&e20=",t=!1)}}},doLog:function(){i.Callback.doScript("/js/module/box/dlbox.min.js")}}},function(e,t,n){t.__esModule=!0,t.Hijack=void 0;var i=n(1);t.Hijack={init:function(){window.execHijack&&this.doHijack()},doHijack:function(){i.Callback.doScript("/js/plugin/preventHijack.min.js?bust=20161110105740VER",function(){check37Domain.init(3)})}}},function(e,t){t.__esModule=!0,t.Icp={init:function(){window.icp_flag&&icp_flag.flag&&this.createIcp()},createIcp:function(){var e=document.createElement("p");e.className="txt_icp",e.innerHTML=icp_flag.text,document.body.appendChild(e)}}},function(e,t,n){t.__esModule=!0,t.Iframe=void 0;var i=n(2);t.Iframe={init:function(){var e=this;i.LifeCycle.add("bodyLoaded",function(){window.new_iframe&&new_iframe.flag&&"reach"==new_iframe.show&&e.createIframe()}),i.LifeCycle.add("registShow",function(){window.new_iframe&&new_iframe.flag&&"click"==new_iframe.show&&e.createIframe()}),i.LifeCycle.add("enterGame",function(){window.new_iframe&&new_iframe.flag&&"success"==new_iframe.show&&e.createIframe()})},createIframe:function(){var e=document.createElement("div");e.setAttribute("id","iframe_warp"),e.innerHTML='<div id="new_iframe_warp"><iframe src="'+new_iframe.src+'" allowtransparency="true" style="background-color=transparent"  frameborder="0" width="'+new_iframe.width+'" height="'+new_iframe.height+'" scrolling="no"></iframe></div>',document.body?document.body.appendChild(e):document.documentElement.appendChild(e);var t=document.getElementById("new_iframe_warp"),n=document.body.clientHeight||document.documentElement.clientHeight;e.style.height=n+"px",t&&(t.style.marginLeft="-"+new_iframe.width/2+"px",t.style.marginTop="-"+new_iframe.height/2+"px")}}},function(e,t){t.__esModule=!0;var n=gconfig.title,i=0;t.Title={init:function(){flash_tit.flag?this.flickerTitle():this.setTitle()},flickerTitle:function(){var e=this,t=n.split(""),a=t.length;i>a&&(i=0);var o="",r="",d="";for(var c in t)c>i?r+=t[c]:o+=t[c];d=r+"    "+o,i++,document.title=d,setTimeout(function(){e.flickerTitle()},500)},setTitle:function(){document.title=n}}},function(e,t,n){t.__esModule=!0,t.PhoneWin=void 0;var i=n(0),a=n(4),o=n(1),r=null,d=!1;t.PhoneWin={el:{},init:function(){var e=this;d?e.el.box.style.display="block":(e.addRegBox(),e.bindEvent(),i.Global.addGlobalFn("phoneMsgCallback",function(e){var t=$$("phone_tips");a.App.openWin(),0==e.success?(a.App.data.returnGameId=oRep.game_id?oRep.game_id:gconfig.game_id,a.App.data.returnServerId=oRep.game_server_id?oRep.game_server_id:gconfig.game_server_id,a.App.registSuccess(e.url)):(t.innerHTML=e.message,t.className="phone_tips warm")}),i.Global.addGlobalFn("phoneValidCallback",function(t){if(0!=t.success)return e.el.img.src="//regapi.37.com/code.php?t="+Math.random(),-1==t.success?(e.el.tipsCode.className="phone_tips warm",void(e.el.tipsCode.innerHTML=t.message)):(e.el.tipsMsg.className="phone_tips warm",void(e.el.tipsMsg.innerHTML=t.message));e.el.tipsMsg.className="phone_tips",e.el.tipsMsg.innerHTML="短信验证码已发送",e.el.btnSendMsg.className="disabled",a.App.phoneStatic(e.el.inputPhone.value,2,1,6);var n=120;r=setInterval(function(){n<=1?(clearInterval(r),e.el.btnSendMsg.innerHTML="短信发送",e.el.btnSendMsg.className=""):(n--,e.el.btnSendMsg.innerHTML=n+"秒后重新发送")},1e3)})),e.el.inputPhone.value=phone},addRegBox:function(){var e=this,t=document.createElement("div");d=!0,t.id="phone_reg",t.innerHTML='     <div id="phone_reg_wrap">          <h3><i></i>手机注册<button id="close_phone">×</button></h3>          <p class="tit_tips">您填写的是手机号，已为您切换至手机注册</p>          <div class="mod_input_wrap">              <span class="span_label">手机号</span>              <input type="text" class="mod_input" id="reg_phone">          </div>          <p class="phone_tips" id="phone_tips_account"></p>          <div class="mod_input_wrap">              <span class="span_label">验证码</span>              <input type="text" class="mod_input w140" id="reg_valid">              <img id="valid_img" src="//regapi.37.com/code.php?t='+Math.random()+'" onclick="this.src=\'//regapi.37.com/code.php?t=\' + Math.random()">          </div>          <p class="phone_tips" id="phone_tips_valid"></p>           <div class="mod_input_wrap">              <span class="span_label">短信验证</span>              <input type="text" class="mod_input w140" id="msg_valid">              <button id="send_msg">短信发送</button>          </div>          <p class="phone_tips" id="phone_tips_msg"></p>          <div class="mod_input_wrap">              <span class="span_label">密码</span>              <input type="password" class="mod_input" id="reg_phone_pwd">          </div>          <p class="phone_tips" id="phone_tips_pwd"></p>          <p class="p_chkbox"><input type="checkbox" checked id="phone_chk"><a href="//my.37.com/user_agreement.html" target="_blank">我已阅读并同意《用户注册服务协议》</a></p>          <p class="phone_tips" id="phone_tips"></p>          <button id="btn_start_phone">开始游戏</button>   </div>',document.body.appendChild(t),e.el={inputPhone:$("reg_phone"),inputCode:$("reg_valid"),inputMsg:$("msg_valid"),inputPwd:$("reg_phone_pwd"),check:$("phone_chk"),btn:$("btn_start_phone"),btnSendMsg:$("send_msg"),btnClose:$("close_phone"),tipsPhone:$("phone_tips_account"),tipsCode:$("phone_tips_valid"),tipsMsg:$("phone_tips_msg"),tipsPwd:$("phone_tips_pwd"),tips:$("phone_tips"),img:$("valid_img"),box:$("phone_reg")}},bindEvent:function(){var e=this,t=e.el;t.btnClose.onclick=function(){t.box.style.display="none"},t.btnSendMsg.onclick=function(){if("disabled"!=this.className){if(t.tipsMsg.innerHTML="",""==t.inputCode.value)return t.tipsCode.innerHTML="请输入验证码",void(t.tipsCode.className="phone_tips warm");t.tipsCode.className="phone_tips",t.tipsCode.innerHTML="",o.CallBack.doScript(http+"://regapi.37.com/api/p_register_phone.php?action=send_code&login_account="+t.inputPhone.value+"&ajax=0&save_code="+t.inputCode.value+"&callback=phoneValidCallback")}},t.btn.onclick=function(){return""==t.inputCode.value?(t.tipsCode.innerHTML="请输入验证码",void(t.tipsCode.className="phone_tips warm")):(t.tipsCode.innerHTML="",t.tipsCode.className="phone_tips",""==t.inputMsg.value?(t.tipsMsg.innerHTML="请输入短信验证",void(t.tipsMsg.className="phone_tips warm")):(t.tipsMsg.innerHTML="",t.tipsMsg.className="phone_tips",""==t.inputPwd.value?(t.tipsPwd.innerHTML="请输入密码",void(t.tipsPwd.className="phone_tips warm")):0==/^[\x01-\xfe]{6,20}$/.test(t.inputPwd.value)?(t.tipsPwd.innerHTML="密码由6~20位数字、字母或特殊字符组成",void(t.tipsPwd.className="phone_tips warm")):(t.tipsPwd.innerHTML="",t.tipsPwd.className="phone_tips",t.check.checked&&(t.tips.innerHTML="请同意《用户注册服务协议》",t.tips.className="phone_tips warm"),t.tips.innerHTML="",t.tips.className="phone_tips",void a.App.registerPhone(t.inputPhone.value,t.inputPwd.value,t.inputMsg.value))))}}}}]);